{
 "$id": "https://openwrt.org/usync.schema.json",
 "$schema": "http://json-schema.org/draft-07/schema#",
 "description": "OpenWrt uSync schema",
 "type": "object",
 "properties": {
  "uuid": {
   "type": "integer"
  },
  "phy": {
   "type": "array",
   "items": {
    "type": "object",
    "properties": {
     "band": {
      "type": "string",
      "enum": [
       "2",
       "5",
       "5u",
       "5l",
       "6"
      ]
     },
     "cfg": {
      "type": "object",
      "required": [
       "disabled"
      ],
      "properties": {
       "beacon_int": {
        "type": "number",
        "maximum": 200,
        "minimum": 50
       },
       "chanbw": {
        "type": "number",
        "enum": [
         5,
         10,
         20
        ]
       },
       "channel": {
        "type": "number",
        "maximum": 171,
        "minimum": 0
       },
       "country": {
        "type": "string",
        "maxLength": 2,
        "minLength": 2
       },
       "disabled": {
        "type": "number",
        "maximum": 1,
        "minimum": 0
       },
       "htmode": {
        "type": "string",
        "enum": [
         "NOHT",
         "HT20",
         "HT40",
         "HT40+",
         "HT40-",
         "VHT20",
         "VHT40",
         "VHT80",
         "VHT160",
         "HE20",
         "HE40",
         "HE80",
         "HE160"
        ]
       },
       "hwmode": {
        "type": "string",
        "enum": [
         "11a",
         "11g"
        ]
       },
       "legacy_rates": {
        "type": "number",
        "maximum": 1,
        "minimum": 0
       },
       "require_mode": {
        "type": "string",
        "enum": [
         "g",
         "n",
         "ac",
         "ax"
        ]
       },
       "rxantenna": {
        "type": "number",
        "maximum": 255,
        "minimum": 0
       },
       "txantenna": {
        "type": "number",
        "maximum": 255,
        "minimum": 0
       },
       "txpower": {
        "type": "number",
        "maximum": 30,
        "minimum": 0
       }
      }
     }
    }
   }
  },
  "ssid": {
   "type": "array",
   "items": {
    "type": "object",
    "properties": {
     "band": {
      "type": "array"
     },
     "name": {
      "maxLength": 16,
      "minLength": 1,
      "type": "string"
     },
     "cfg": {
      "type": "object",
      "properties": {
       "auth_secret": {
        "type": "string"
       },
       "bss_transition": {
        "maximum": 1,
        "minimum": 0,
        "type": "number"
       },
       "bssid": {
        "maxLength": 17,
        "minLength": 17,
        "type": "string"
       },
       "dtim_period": {
        "maximum": 255,
        "minimum": 1,
        "type": "number"
       },
       "encryption": {
        "enum": [
         "none",
         "psk",
         "psk2",
         "psk-mixed",
         "wpa",
         "wpa2",
         "wpa-mixed"
        ],
        "type": "string"
       },
       "ft_over_ds": {
        "maximum": 1,
        "minimum": 0,
        "type": "number"
       },
       "ft_psk_generate_local": {
        "maximum": 1,
        "minimum": 0,
        "type": "number"
       },
       "hidden": {
        "maximum": 1,
        "minimum": 0,
        "type": "number"
       },
       "ieee80211k": {
        "maximum": 1,
        "minimum": 0,
        "type": "number"
       },
       "ieee80211r": {
        "maximum": 1,
        "minimum": 0,
        "type": "number"
       },
       "ieee80211v": {
        "maximum": 1,
        "minimum": 0,
        "type": "number"
       },
       "ieee80211w": {
        "maximum": 1,
        "minimum": 0,
        "type": "number"
       },
       "isolate": {
        "maximum": 1,
        "minimum": 0,
        "type": "number"
       },
       "key": {
        "maxLength": 63,
        "minLength": 8,
        "type": "string"
       },
       "mobility_domain": {
        "type": "string"
       },
       "mode": {
        "enum": [
         "ap"
        ],
        "type": "string"
       },
       "network": {
        "type": "string"
       },
       "port": {
        "maximum": 65535,
        "minimum": 1024,
        "type": "number"
       },
       "rts_threshold": {
        "maximum": 65535,
        "minimum": 1,
        "type": "number"
       },
       "server": {
        "type": "string"
       },
       "ssid": {
        "maxLength": 32,
        "minLength": 1,
        "type": "string"
       },
       "uapsd": {
        "maximum": 1,
        "minimum": 0,
        "type": "number"
       }
      }
     }
    }
   }
  }
 }
}